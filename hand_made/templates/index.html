{% extends 'base.html' %}
{% load static %}

{% block styles %}
<style>
  /* Slideshow specific styles */
  .hero {
    position: relative;
    height: 600px;
    overflow: hidden;
  }

  .slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    opacity: 0;
    transition: opacity 1.5s ease-in-out;
    z-index: 1;
  }

  .slide.active {
    opacity: 1;
    z-index: 2;
  }

  /* Zoom effect for active slide */
  .slide.active {
    animation: zoomEffect 6s ease-out forwards;
  }

  @keyframes zoomEffect {
    from {
      transform: scale(1);
    }

    to {
      transform: scale(1.05);
    }
  }

  .hero-overlay {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.3);
    /* Darker overlay for better text contrast */
    z-index: 3;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: white;
  }

  .hero-content {
    max-width: 800px;
    padding: 2rem;
  }

  .hero-content h1 {
    font-size: 4rem;
    font-weight: 700;
    margin-bottom: 1rem;
    font-family: 'Playfair Display', serif;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 1s ease-out 0.5s forwards;
  }

  .hero-content p {
    font-size: 1.5rem;
    margin-bottom: 2rem;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 1s ease-out 0.8s forwards;
  }

  .hero-buttons {
    opacity: 0;
    transform: translateY(20px);
    animation: fadeInUp 1s ease-out 1.1s forwards;
  }

  @keyframes fadeInUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Slide Indicators */
  .slide-indicators {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    z-index: 4;
    display: flex;
    gap: 0.5rem;
  }

  .indicator {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.5);
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .indicator.active {
    background: white;
    transform: scale(1.2);
  }
</style>
{% endblock %}

{% block content %}

<!-- Hero Slideshow -->
<section class="hero">
  <!-- Slides -->
  <!-- Using placeholder images from Unsplash for realistic handmade feel -->
  <div class="slide active"
    style="background-image: url('https://images.unsplash.com/photo-1459411552884-841db9b3cc2a?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');">
  </div>
  <div class="slide"
    style="background-image: url('https://images.unsplash.com/photo-1513519245088-0e12902e5a38?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');">
  </div>
  <div class="slide"
    style="background-image: url('https://images.unsplash.com/photo-1493106641515-6b5631de4bb9?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80');">
  </div>

  <div class="hero-overlay">
    <div class="hero-content">
      <h1>Handcrafted with Soul</h1>
      <p>Discover unique treasures made by skilled artisans. Each piece tells a story of tradition and creativity.</p>
      <div class="hero-buttons">
        <a href="{% url 'shop' %}" class="btn-hero">
          Shop Collection <i class="fas fa-arrow-right"></i>
        </a>
      </div>
    </div>
  </div>

  <div class="slide-indicators">
    <span class="indicator active" onclick="setSlide(0)"></span>
    <span class="indicator" onclick="setSlide(1)"></span>
    <span class="indicator" onclick="setSlide(2)"></span>
  </div>
</section>

<!-- Featured Products -->
<section class="section">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title font-display">Featured Art</h2>
      <p class="section-subtitle">
        Handpicked masterpieces for your home and soul
      </p>
    </div>

    {% if products %}
    <div class="product-grid">
      {% for product in products %}
      <div class="product-card">
        <!-- Image -->
        <div class="product-image-wrapper">
          {% if product.image %}
          <img src="{{ product.image.url }}" alt="{{ product.name }}" class="product-image">
          {% else %}
          <div
            style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 3rem; opacity: 0.2; background: #f5f5f5;">
            ðŸŽ¨</div>
          {% endif %}

          <!-- Badge -->
          <div class="product-badge">{{ product.category.name }}</div>
        </div>

        <!-- Content -->
        <div class="product-content">
          <h3><a href="{% url 'product_detail' product.slug %}" class="product-title">{{ product.name }}</a></h3>
          <p class="product-description">{{ product.description|default:"A beautiful handcrafted piece." }}</p>

          <div class="product-footer">
            <span class="product-price">â‚¹{{ product.price }}</span>
            <a href="{% url 'add_to_cart' product.id %}" class="btn-add-cart" title="Add to Cart">
              <i class="fas fa-plus"></i>
            </a>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <div style="text-align: center; margin-top: 3rem;">
      <a href="{% url 'shop' %}" class="btn-primary">
        View All Products
      </a>
    </div>
    {% else %}
    <div
      style="text-align: center; padding: 4rem; background: white; border-radius: var(--radius-lg); border: 1px dashed var(--border-color);">
      <div style="font-size: 3rem; margin-bottom: 1rem; color: var(--text-muted);">ðŸŽ¨</div>
      <h3 style="font-size: 1.5rem; font-weight: 600; color: var(--text-main); margin-bottom: 0.5rem;">Collection Coming
        Soon</h3>
      <p style="color: var(--text-muted);">We are curating the finest handcrafted items for you.</p>
    </div>
    {% endif %}
  </div>
</section>

<!-- Why Choose Us -->
<section class="section" style="background: #fdfbf7;">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title font-display">Why Articraft?</h2>
      <p class="section-subtitle">We bridge the gap between artisans and art lovers</p>
    </div>

    <div class="product-grid" style="grid-template-columns: repeat(3, 1fr);">
      <div style="text-align: center; padding: 2rem;">
        <div
          style="width: 4rem; height: 4rem; margin: 0 auto 1.5rem; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
          <i class="fas fa-hand-holding-heart"></i>
        </div>
        <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.5rem;">100% Handmade</h3>
        <p style="color: var(--text-muted); font-size: 0.9rem;">Authentic products crafted by skilled hands, not
          machines.</p>
      </div>

      <div style="text-align: center; padding: 2rem;">
        <div
          style="width: 4rem; height: 4rem; margin: 0 auto 1.5rem; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
          <i class="fas fa-star"></i>
        </div>
        <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.5rem;">Premium Quality</h3>
        <p style="color: var(--text-muted); font-size: 0.9rem;">We ensure every piece meets our high standards of
          craftsmanship.</p>
      </div>

      <div style="text-align: center; padding: 2rem;">
        <div
          style="width: 4rem; height: 4rem; margin: 0 auto 1.5rem; background: var(--primary-color); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.5rem;">
          <i class="fas fa-globe-asia"></i>
        </div>
        <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 0.5rem;">Supporting Artisans</h3>
        <p style="color: var(--text-muted); font-size: 0.9rem;">Your purchase directly supports the livelihood of local
          artists.</p>
      </div>
    </div>
  </div>
</section>

<script>
  // Slideshow Logic
  let currentSlide = 0;
  const slides = document.querySelectorAll('.slide');
  const indicators = document.querySelectorAll('.indicator');

  function showSlide(n) {
    // Reset all
    slides.forEach(slide => slide.classList.remove('active'));
    indicators.forEach(ind => ind.classList.remove('active'));

    // Handle wrapping
    currentSlide = (n + slides.length) % slides.length;

    // Set active
    slides[currentSlide].classList.add('active');
    indicators[currentSlide].classList.add('active');
  }

  function nextSlide() {
    showSlide(currentSlide + 1);
  }

  function setSlide(n) {
    showSlide(n);
    // Reset timer when manually clicked
    clearInterval(slideInterval);
    slideInterval = setInterval(nextSlide, 5000);
  }

  // Auto advance
  let slideInterval = setInterval(nextSlide, 5000);
</script>

{% endblock %}